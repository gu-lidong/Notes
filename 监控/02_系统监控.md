### 系统监控

+++

1.系统监控

+ cpu
  + 上下文切换：CPU调度器实施的进程的切换过程，上下文切换
  + 运行队列（负载）
  + 使用率
+ 内存
+ IO input/output（网络、磁盘）



2.确定服务类型

+ IO密集型：数据库
+ CPU密集型：web mail



3.确定性能基准线

+ 运行队列：1-3线程 1CPU 4核 负载不超过12
+ CPU使用率：
  + 65%-70% 用户态利用率
  + 30%-35% 内核态利用率
  + 0%-5% 空闲
+ 上下文切换



4.监控工具

+ top
  + P：CPU使用率排序
  + M：内存使用率排序
+ sysstat
  + vmstat
  + mpstat



5.内存：页 4KB free vmstat

+ 寻址
+ 空间



6.硬盘：块 dd df iotop iostat

+ IOPS：IO's Per Second（每秒的IO请求次数）
+ 顺序IO：快
+ 随机IO：慢
+ dd if=/dev/zero of=/tmp/1.file bs=1M count=1000
  + if：从哪里来
  + of：到哪里去
  + bs：大小
  + count：次数



7.网络：iftop -n / netstat -na 带宽

+ http://alibench.com
+ http://ce.cloud.360.cn
+ http://ping.chinaz.com
+ IBM的 nmon 工具(二进制) 测试用 下载一个excel分析工具
+ sz filename（将linux里的文件下载到桌面）